{
"version":3,
"file":"goog.dom.animationframe.polyfill.js",
"lineCount":29,
"mappings":"AAoBAA,IAAA,CAAKC,OAAL,CAAa,kCAAb,CAAA;AAMAD,IAAA,CAAKE,GAAL,CAASC,cAAT,CAAwBC,QAAxB,CAAiCC,OAAjC,GACIL,IAAA,CAAKM,MAAL,CAAY,0CAAZ,EAAwD,IAAxD,CADJ;AAOAN,IAAA,CAAKE,GAAL,CAASC,cAAT,CAAwBC,QAAxB,CAAiCG,OAAjC,GAA2CC,QAAQ,EAAG;AACpD,MAAIR,IAAJ,CAASE,GAAT,CAAaC,cAAb,CAA4BC,QAA5B,CAAqCC,OAArC,CAA8C;AAC5C,QAAMI,UAAU,CAAC,IAAD,EAAO,KAAP,EAAc,QAAd,EAAwB,GAAxB,CAAhB;AACA,QAAIC,CAAJ;AACA,SAAK,IAAIC,IAAI,CAAb,EAAgBD,CAAhB,GAAoBD,OAAA,CAAQE,CAAR,CAApB,IAAkC,CAACX,IAAD,CAAMY,MAAN,CAAaC,qBAA/C,EAAsE,EAAEF,CAAxE,CAA2E;AACzEX,UAAA,CAAKY,MAAL,CAAYC,qBAAZ,GACIb,IAAA,CAAKY,MAAL,CAAYF,CAAZ,GAAgB,uBAAhB,CADJ;AAEAV,UAAA,CAAKY,MAAL,CAAYE,oBAAZ,GACId,IAAA,CAAKY,MAAL,CAAYF,CAAZ,GAAgB,sBAAhB,CADJ,IAEIV,IAAA,CAAKY,MAAL,CAAYF,CAAZ,GAAgB,6BAAhB,CAFJ;AAHyE;AAQ3E,QAAI,CAACV,IAAD,CAAMY,MAAN,CAAaC,qBAAjB,CAAwC;AACtC,UAAIE,WAAW,CAAf;AACAf,UAAA,CAAKY,MAAL,CAAYC,qBAAZ,GAAoCG,QAAQ,CAACC,QAAD,CAAW;AACrD,YAAMC,WAAW,CAAA,IAAIC,IAAJ,EAAWC,OAAX,EAAjB;AACA,YAAMC,aAAaC,IAAA,CAAKC,GAAL,CAAS,CAAT,EAAY,EAAZ,IAAkBL,QAAlB,GAA6BH,QAA7B,EAAnB;AACAA,gBAAA,GAAWG,QAAX,GAAsBG,UAAtB;AACA,eAAOrB,IAAA,CAAKY,MAAL,CAAYY,UAAZ,CAAuB,QAAQ,EAAG;AACvCP,kBAAA,CAASC,QAAT,GAAoBG,UAApB,CAAA;AADuC,SAAlC,EAEJA,UAFI,CAAP;AAJqD,OAAvD;AASA,UAAI,CAACrB,IAAD,CAAMY,MAAN,CAAaE,oBAAjB;AACEd,YAAA,CAAKY,MAAL,CAAYE,oBAAZ,GAAmCW,QAAQ,CAACC,EAAD,CAAK;AAAEC,sBAAA,CAAaD,EAAb,CAAA;AAAF,SAAhD;AADF;AAXsC;AAXI;AADM,CAAtD;;",
"sources":["goog/dom/animationframe/polyfill.js"],
"sourcesContent":["// Copyright 2014 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview A polyfill for window.requestAnimationFrame and\n * window.cancelAnimationFrame.\n * Code based on https://gist.github.com/paulirish/1579671\n */\n\ngoog.provide('goog.dom.animationFrame.polyfill');\n\n\n/**\n * @define {boolean} If true, will install the requestAnimationFrame polyfill.\n */\ngoog.dom.animationFrame.polyfill.ENABLED =\n    goog.define('goog.dom.animationFrame.polyfill.ENABLED', true);\n\n\n/**\n * Installs the requestAnimationFrame (and cancelAnimationFrame) polyfill.\n */\ngoog.dom.animationFrame.polyfill.install = function() {\n  if (goog.dom.animationFrame.polyfill.ENABLED) {\n    const vendors = ['ms', 'moz', 'webkit', 'o'];\n    let v;\n    for (let i = 0; v = vendors[i] && !goog.global.requestAnimationFrame; ++i) {\n      goog.global.requestAnimationFrame =\n          goog.global[v + 'RequestAnimationFrame'];\n      goog.global.cancelAnimationFrame =\n          goog.global[v + 'CancelAnimationFrame'] ||\n          goog.global[v + 'CancelRequestAnimationFrame'];\n    }\n\n    if (!goog.global.requestAnimationFrame) {\n      let lastTime = 0;\n      goog.global.requestAnimationFrame = function(callback) {\n        const currTime = new Date().getTime();\n        const timeToCall = Math.max(0, 16 - (currTime - lastTime));\n        lastTime = currTime + timeToCall;\n        return goog.global.setTimeout(function() {\n          callback(currTime + timeToCall);\n        }, timeToCall);\n      };\n\n      if (!goog.global.cancelAnimationFrame) {\n        goog.global.cancelAnimationFrame = function(id) { clearTimeout(id); };\n      }\n    }\n  }\n};\n"],
"names":["goog","provide","dom","animationFrame","polyfill","ENABLED","define","install","goog.dom.animationFrame.polyfill.install","vendors","v","i","global","requestAnimationFrame","cancelAnimationFrame","lastTime","goog.global.requestAnimationFrame","callback","currTime","Date","getTime","timeToCall","Math","max","setTimeout","goog.global.cancelAnimationFrame","id","clearTimeout"]
}
